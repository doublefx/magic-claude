#!/bin/bash
# Git Hook: post-rewrite
# Logs history rewrites for /git-sync change impact analysis
#
# Arguments:
#   $1 - command that caused the rewrite (amend or rebase)

COMMAND="$1"

echo "[git-sync] History rewritten via $COMMAND. Run /git-sync to analyze impact."

# Log for later processing
LOG_FILE=".git/serena-sync-reminder.log"
echo "$(date -u '+%Y-%m-%d %H:%M:%S UTC') - post-rewrite ($COMMAND)" >> "$LOG_FILE"
