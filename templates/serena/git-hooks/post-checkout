#!/bin/bash
# Git Hook: post-checkout
# Logs branch switches for /git-sync change impact analysis
#
# Arguments:
#   $1 - previous HEAD
#   $2 - new HEAD
#   $3 - 1 if branch checkout, 0 if file checkout

# Only trigger on branch checkout
if [ "$3" = "1" ]; then
  echo "[git-sync] Branch switched. Run /git-sync to analyze impact."

  # Log for later processing
  LOG_FILE=".git/serena-sync-reminder.log"
  echo "$(date -u '+%Y-%m-%d %H:%M:%S UTC') - post-checkout (branch)" >> "$LOG_FILE"
fi
